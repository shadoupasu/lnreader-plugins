var e=this&&this.__awaiter||function(e,l,a,t){return new(a||(a=Promise))((function(r,n){function u(e){try{i(t.next(e))}catch(e){n(e)}}function o(e){try{i(t.throw(e))}catch(e){n(e)}}function i(e){var l;e.done?r(e.value):(l=e.value,l instanceof a?l:new a((function(e){e(l)}))).then(u,o)}i((t=t.apply(e,l||[])).next())}))},l=this&&this.__generator||function(e,l){var a,t,r,n={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=o(0),u.throw=o(1),u.return=o(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function o(o){return function(i){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;u&&(u=0,o[0]&&(n=0)),n;)try{if(a=1,t&&(r=2&o[0]?t.return:o[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,o[1])).done)return r;switch(t=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,t=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(!(r=n.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){n=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){n.label=o[1];break}if(6===o[0]&&n.label<r[1]){n.label=r[1],r=o;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(o);break}r[2]&&n.ops.pop(),n.trys.pop();continue}o=l.call(e,n)}catch(e){o=[6,e],t=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@libs/fetch"),r=require("@libs/novelStatus"),n=a(require("dayjs")),u={"User-Agent":"RuLateApp Android","accept-encoding":"gzip"},o=new(function(){function a(e){var l=this;this.resolveUrl=function(e,a){return l.site+"/book/"+e+(a?"/":"/ready_new")},this.id=e.id,this.name=e.sourceName+" (API)",this.icon="multisrc/rulate/".concat(e.id.toLowerCase(),"/icon.png"),this.site=e.sourceSite,this.version="1.0."+(0+e.versionIncrements),this.filters=e.filters,this.key=e.key}return a.prototype.parseNovels=function(e){return(0,t.fetchApi)(e,{headers:u}).then((function(e){return e.json()})).then((function(e){var l,a=[];return"success"===e.status&&(null===(l=e.response)||void 0===l?void 0:l.length)&&e.response.forEach((function(e){return a.push({name:e.t_title||e.s_title,path:e.id.toString(),cover:e.img})})),a}))},a.prototype.popularNovels=function(a,t){return e(this,arguments,void 0,(function(e,a){var t,r,n=a.filters,u=a.showLatestNovels;return l(this,(function(l){return t=this.site+"/api3/searchBooks?limit=40&page="+e,t+="&sort="+(u?"4":(null===(r=null==n?void 0:n.sort)||void 0===r?void 0:r.value)||"6"),Object.entries(n||{}).forEach((function(e){var l=e[0],a=e[1].value;a instanceof Array&&a.length&&(t+="&"+a.map((function(e){return l+"[]="+e})).join("&"))})),t+="&key="+this.key,[2,this.parseNovels(t)]}))}))},a.prototype.searchNovels=function(a){return e(this,arguments,void 0,(function(e,a){var t;return void 0===a&&(a=1),l(this,(function(l){return t="".concat(this.site,"/api3/searchBooks?t=").concat(encodeURIComponent(e),"&limit=40&page=").concat(a,"&key=").concat(this.key),[2,this.parseNovels(t)]}))}))},a.prototype.parseNovel=function(a){return e(this,void 0,void 0,(function(){var e,o,i,s;return l(this,(function(l){switch(l.label){case 0:return[4,(0,t.fetchApi)(this.site+"/api3/book?book_id="+a+"&key="+this.key,{headers:u}).then((function(e){return e.json()}))];case 1:return e=l.sent(),o={name:e.response.t_title||e.response.s_title,path:a,cover:e.response.img,genres:[e.response.genres,e.response.tags].flatMap((function(e){var l;return null===(l=null==e?void 0:e.map)||void 0===l?void 0:l.call(e,(function(e){return e.title||e.name}))})).join(","),summary:e.response.description,author:e.response.author,status:"–ó–∞–≤–µ—Ä—à—ë–Ω"===e.response.status?r.NovelStatus.Completed:r.NovelStatus.Ongoing,rating:e.response.rate&&e.response.rate.count>0?Number((e.response.rate.sum/e.response.rate.count).toFixed(2)):void 0},[4,(0,t.fetchApi)(this.site+"/api3/bookChapters?book_id="+a+"&key="+this.key,{headers:u}).then((function(e){return e.json()}))];case 2:return i=l.sent(),s=[],i.response&&Array.isArray(i.response)&&i.response.forEach((function(e){e.can_read&&0===e.subscription&&s.push({name:e.title+(e.illustrated?" üñºÔ∏è":""),path:a+"/"+e.id,releaseTime:(0,n.default)(1e3*e.cdate).format("LLL"),chapterNumber:e.ord})})),o.chapters=s,[2,o]}}))}))},a.prototype.parseChapter=function(a){return e(this,void 0,void 0,(function(){var e,r,n;return l(this,(function(l){switch(l.label){case 0:return e=a.split("/"),r=e[0],n=e[1],[4,(0,t.fetchApi)(this.site+"/api3/chapter?book_id="+r+"&chapter_id="+n+"&key="+this.key,{headers:u}).then((function(e){return e.json()}))];case 1:return[2,l.sent().response.text]}}))}))},a}())({id:"erolate-api",sourceSite:"https://erolate.com",sourceName:"Erolate",versionIncrements:0,key:"fpoiKLUues81werht039",filters:{sort:{label:"–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:",value:"6",options:[{label:"–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É",value:"6"},{label:"–ü–æ –¥–∞—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",value:"4"},{label:"–ü–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è",value:"3"},{label:"–ü–æ –∫–æ–ª-–≤—É –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –≥–ª–∞–≤",value:"11"},{label:"–ü–æ –∫–æ–ª-–≤—É –≤ –∑–∞–∫–ª–∞–¥–∫–∞—Ö",value:"13"},{label:"–ü–æ –∫–æ–ª-–≤—É –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º",value:"14"},{label:"–ü–æ –∫–æ–ª-–≤—É –ª–∞–π–∫–æ–≤",value:"8"},{label:"–ü–æ –∫–æ–ª-–≤—É –ø–µ—Ä–µ–≤–µ–¥—ë–Ω–Ω—ã—Ö –≥–ª–∞–≤",value:"7"},{label:"–ü–æ –∫–æ–ª-–≤—É —Ä–µ—Ü–µ–Ω–∑–∏–π",value:"12"},{label:"–ü–æ –∫–æ–ª-–≤—É —Å—Ç—Ä–∞–Ω–∏—Ü",value:"10"},{label:"–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é –Ω–∞ —è–∑—ã–∫–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞",value:"1"},{label:"–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é –Ω–∞ —è–∑—ã–∫–µ –ø–µ—Ä–µ–≤–æ–¥–∞",value:"2"},{label:"–ü–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º",value:"5"},{label:"–ü–æ —Å—Ç–µ–ø–µ–Ω–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏",value:"0"},{label:"–°–ª—É—á–∞–π–Ω–æ",value:"9"}],type:"Picker"},genres:{type:"Checkbox",label:"–ñ–∞–Ω—Ä—ã: –≤—Å–µ –∂–∞–Ω—Ä—ã –ª—é–±–æ–π –∂–∞–Ω—Ä",value:"",options:[{label:"–∞–Ω–∞–ª",value:"2"},{label:"–ê—Ä—Ç",value:"70"},{label:"–±–¥—Å–º",value:"3"},{label:"–ë–æ–µ–≤—ã–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞",value:"52"},{label:"–±–æ–ª—å—à–∞—è –≥—Ä—É–¥—å",value:"5"},{label:"–±–æ–ª—å—à–∞—è –ø–æ–ø–∫–∞",value:"6"},{label:"–±–æ–ª—å—à–æ–π —á–ª–µ–Ω",value:"7"},{label:"–±–æ–Ω–¥–∞–∂",value:"8"},{label:"–≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑",value:"9"},{label:"–≤ —Ü–≤–µ—Ç–µ",value:"10"},{label:"–≥–∞—Ä–µ–º",value:"11"},{label:"–ì–∞—Ä–µ–º",value:"71"},{label:"–≥–µ–Ω–¥–∞—Ä–Ω–∞—è –∏–Ω—Ç—Ä–∏–≥–∞",value:"12"},{label:"–ì–µ—Ä–æ–∏—á–µ—Å–∫–æ–µ —Ñ—ç–Ω—Ç–µ–∑–∏",value:"57"},{label:"–≥—Ä—É–ø–ø–æ–≤–æ–π —Å–µ–∫—Å",value:"13"},{label:"–¥–µ—Ç–µ–∫—Ç–∏–≤",value:"39"},{label:"–î–µ—Ç–µ–∫—Ç–∏–≤",value:"50"},{label:"–î–∑—ë—Å—ç–π",value:"45"},{label:"–¥—Ä–∞–º–∞",value:"14"},{label:"–î—Ä–∞–º–∞",value:"46"},{label:"–∑—Ä–µ–ª—ã–µ –∂–µ–Ω—â–∏–Ω—ã (milf)",value:"15"},{label:"–∏–∑–º–µ–Ω–∞",value:"16"},{label:"–∏–∑–Ω–∞—Å–∏–ª–æ–≤–∞–Ω–∏–µ",value:"17"},{label:"–∏–Ω—Ü–µ—Å—Ç",value:"18"},{label:"–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π",value:"19"},{label:"–ò—Å—Ç–æ—Ä–∏—è",value:"62"},{label:"–∫–æ–º–µ–¥–∏—è",value:"20"},{label:"–ö–æ–º–µ–¥–∏—è",value:"51"},{label:"–∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ä–∞–∑—É–º–æ–º",value:"35"},{label:"–º–∞–ª–µ–Ω—å–∫–∞—è –≥—Ä—É–¥—å",value:"21"},{label:"–º–∏—Å—Ç–∏–∫–∞",value:"40"},{label:"–ú–∏—Å—Ç–∏–∫–∞",value:"66"},{label:"–ú—É—Ä–∏–º",value:"54"},{label:"–Ω–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞",value:"22"},{label:"–ù–∞—É—á–Ω–∞—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞",value:"72"},{label:"–Ω–µ—Ç–æ—Ä–∞—Ä–µ",value:"23"},{label:"–æ—Ä–∞–ª—å–Ω—ã–π —Å–µ–∫—Å",value:"24"},{label:"–ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ—Å—Ç—å",value:"41"},{label:"–ü–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ—Å—Ç—å",value:"53"},{label:"–ü–æ—Å—Ç–∞–ø–æ–∫–∞–ª–∏–ø—Ç–∏–∫–∞",value:"55"},{label:"–ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è",value:"38"},{label:"–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è",value:"42"},{label:"–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è",value:"63"},{label:"–ø—É–±–ª–∏—á–Ω—ã–π —Å–µ–∫—Å",value:"33"},{label:"—Ä–æ–º–∞–Ω—Ç–∏–∫–∞",value:"25"},{label:"–†–æ–º–∞–Ω—Ç–∏–∫–∞",value:"47"},{label:"—Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ ",value:"36"},{label:"—Å–≤–µ—Ä—Ö—ä–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ",value:"34"},{label:"–°–≤–µ—Ä—Ö—ä–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ",value:"58"},{label:"–°—ë–¥–∑—ë",value:"48"},{label:"–°—ë–Ω—ç–Ω",value:"43"},{label:"—Å–º–∞—Ç",value:"37"},{label:"–°–ø–æ—Ä—Ç",value:"65"},{label:"–°—ç–π–Ω—ç–Ω",value:"64"},{label:"—Ç–µ–Ω—Ç–∞–∫–ª–∏",value:"26"},{label:"—Ç—Ä–∞–≥–µ–¥–∏—è",value:"27"},{label:"–¢—Ä–∞–≥–µ–¥–∏—è",value:"61"},{label:"–¢—Ä–∏–ª–ª–µ—Ä",value:"69"},{label:"—É–∂–∞—Å—ã",value:"28"},{label:"–£–∂–∞—Å—ã",value:"68"},{label:"—Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞",value:"32"},{label:"–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞",value:"60"},{label:"—Ñ—ç–Ω—Ç–µ–∑–∏",value:"29"},{label:"–§—ç–Ω—Ç–µ–∑–∏",value:"44"},{label:"—á–∏–∫–∞–Ω",value:"30"},{label:"–®–∫–æ–ª—å–Ω–∞—è –∂–∏–∑–Ω—å",value:"59"},{label:"–≠–∫—à–µ–Ω",value:"49"},{label:"–≠—Ä–æ—Ç–∏–∫–∞",value:"56"},{label:"—ç—Ç—Ç–∏",value:"31"},{label:"–≠—Ç—Ç–∏",value:"67"},{label:"ahegao",value:"1"}]}}});exports.default=o;